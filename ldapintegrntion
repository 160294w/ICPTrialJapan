# LDAPとの統合
Openldapサーバは環境に配備され、LDAP認証を提供するために使用されます。 ldapサーバーには、サンプルユーザーとグループがほとんどありませんでした。このシナリオでは、ldapサーバーをICPに接続し、ldapサーバーのユーザー/グループを追加して役割ベースのアクセスを実現します。 LDAPサーバーのサンプルユーザーとグループは、次のとおりです。
￼
 <source srcset = "https://ibm-dte.mybluemix.net/images/tutorials/cloud-private-trial/ldapgroupsandusers.webp" type = "image / webp"> <source srcset = "https：// ibm- dte.mybluemix.net/images/tutorials/cloud-private-trial/ldapgroupsandusers.png "type =" image / png "> <img src =" https://ibm-dte.mybluemix.net/images/tutorials/cloud -private-trial / ldapgroupsandusers.png "alt =" LDAPGroups＆amp; Users ">
上記のすべてのユーザーのパスワードはicp1nCl0udです。

## ICPとLDAPサーバーを接続する
1. ldapサーバーとICPを接続するには、LDAPサーバーのアドレス、ベースドメイン、バインドユーザーID、バインドユーザーパスワード、ユーザーとグループのフィルターが必要です。
1. kubectlを実行できるコマンドウィンドウを起動します。
1. コマンドkubectl -n services svcを実行します。 grep myopenldapを実行して、ClusterIP 10.1.0.248kubectl -n services get svc | grep myopenldap
* myopenldap ClusterIP 10.1.0.248 <なし> 389 / TCP、636 / TCP 1h
*
1. 同様に、以下のようにコマンドを実行し、LDAP管理者のパスワードを書き留めておきます。kubectl get secret --namespace services myopenldap -o jsonpath = "{。data.LDAP_ADMIN_PASSWORD}" | base64  - デコード;エコー
* Si6O0hwBobyOoVBKoMnszIMedKRye39w
*
1. 以下の情報を使用して、ldapサーバーとICPクラスターを接続します。 ICPコンソールのナビゲーションメニュー - >管理 - >認証、LDAP接続を追加します。名前：OpenldapType：CustomBase DN：dc = bluedemos、dc = comBind DN：cn = admin、dc = bluedemos、dc = comAdminパスワード：Si6O0hwBobyOoVBKoMnszIMedKRye39wURL：ldap：//10.1.0.248：389
1. [接続テスト]ボタンをクリックします。接続が正しい場合は、LDAP接続が成功したというメッセージが表示されます。
1. 同様に、グループとユーザーのフィルタとグループとユーザーのマッピングには次の値を使用します
グループフィルタ：（＆（cn =％v）（objectclass = groupOfUniqueNames））ユーザフィルタ：（＆（cn =％v）（objectclass = inetOrgPerson））グループIDマップ：*：cnユーザIDマップ：*：cnグループメンバーIDマップ：groupOfUniqueNames：uniqueMember

